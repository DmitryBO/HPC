# Лабораторная работа 2
## Сумма вектора
**Задача**: Реализовать алгоритм сложения элементов вектора<br/>
**Язык**: Python 3.9.7 с использованием библиотек Numpy, Numba<br/>
**Входные данные**: Вектор размером 1000...1000000 значений<br/>
**Выходные данные**: Сумма элементов вектора + время вычисления<br/>
### Для реализации данной задачи использовалась следующее техническое обеспечение:<br>
**CPU**: AMD Ryzen 5 2600 @ 3,4 GHz<br/>
**GPU**: NVIDIA GeForce GTX 1050 Ti<br/>
**RAM**: AMD Radeon R9 DDR4 2x8 GB<br/>
### Описание<br>
В работе реализовано суммирование элементов вектора на CPU и GPU. На CPU матрицы суммируются с помощью функции библиотеки Numpy - ```numpy.sum()```. При суммировании на GPU происходит распараллеливание таким образом, чтобы элементы суммировались в каждом отдельном блоке. При этом, чтобы предотвратить условие гонки между различными потоками в одном блоке потоков в общей памяти используется функция ```cuda.atomic.add()```.
### Таблица результатов работы<br>
Размер вектора | Сумма на CPU | Сумма на GPU | Время на CPU, мкс | Время на GPU, мкс
:----:|:----:|:----:|:----:|:----:
|                 100000 |    4.95924e+06 |    4.95924e+06 |            0.39978  |             26.5166 |
|                 150000 |    7.41318e+06 |    7.41318e+06 |            0.498486 |             38.5056 |
|                 200000 |    9.89012e+06 |    9.89012e+06 |            1.19987  |             36.8736 |
|                 250000 |    1.23574e+07 |    1.23574e+07 |            0.999618 |             43.9124 |
|                 300000 |    1.48519e+07 |    1.48519e+07 |            1.2002   |             53.0624 |
|                 350000 |    1.73346e+07 |    1.73346e+07 |            1.51441  |             52.8798 |
|                 400000 |    1.98027e+07 |    1.98027e+07 |            1.30124  |             55.8948 |
|                 450000 |    2.22954e+07 |    2.22954e+07 |            1.58055  |             60.7933 |
|                 500000 |    2.4728e+07  |    2.4728e+07  |            2.10032  |             68.7291 |
|                 550000 |    2.72563e+07 |    2.72563e+07 |            1.59073  |             68.5465 |
|                 600000 |    2.97029e+07 |    2.97029e+07 |            2.41225  |             73.3819 |
|                 650000 |    3.21997e+07 |    3.21997e+07 |            2.30215  |             79.2976 |
|                 700000 |    3.46654e+07 |    3.46654e+07 |            2.80015  |             84.3431 |
|                 750000 |    3.71629e+07 |    3.71629e+07 |            2.702    |             89.678  |
|                 800000 |    3.96002e+07 |    3.96002e+07 |            3.40047  |             96.3337 |
|                 850000 |    4.20955e+07 |    4.20955e+07 |            2.70243  |            102.389  |
|                 900000 |    4.45724e+07 |    4.45724e+07 |            3.38962  |            107.651  |
|                 950000 |    4.70372e+07 |    4.70372e+07 |            4.20115  |            113.52   |
|                1000000 |    4.95054e+07 |    4.95054e+07 |            4.07088  |            127.73   |

### Графики результаты работы <br/>

![Графики_результатов](https://github.com/DmitryBO/HPC/blob/main/images/vecsum.png)

### Вывод <br/>
Исходя из таблицы и графиков сделали вывод, что в отличии от перемножения матриц, время работы функции сложения вектора на GPU превышает время работы на CPU. Операция сложения суммы векторов достаточно проста, чтобы CPU эффективно выполнял её. Относительно функции на CPU, функция на GPU тратит слишком много времени на отправку данных вектора на девайс и обратно.
